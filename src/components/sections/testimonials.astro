---
import { Image } from "astro:assets";
import "swiper/css";
import ImageMod from "../image-mod.astro";

const testimonials = [
  {
    name: "Alex Johnson",
    image: "/asitrastudio-assets/testimonials/avatar-square1.png",
    quote:
      "Recording at Harmony Hub Studios was an incredible experience. The team was professional and supportive, and the quality of the final product was beyond my expectations. I can't wait to come back!",
  },
  {
    name: "Maria Sanchez",
    image: "/asitrastudio-assets/testimonials/avatar-square2.png",
    quote:
      "The vibe at Sonic Sanctuary is amazing. The jamming space is top-notch, and the staff really knows how to create a comfortable and creative environment. Highly recommend!",
  },
  {
    name: "David Lee",
    image: "/asitrastudio-assets/testimonials/avatar-square1.png",
    quote:
      "Soundwave Studios exceeded all my expectations. The equipment is state-of-the-art, and the sound engineers are incredibly talented. My band and I were thrilled with the results.",
  },
  {
    name: "Emma Watson",
    image: "/asitrastudio-assets/testimonials/avatar-square2.png",
    quote:
      "Groove Garden is the perfect place to bring your musical ideas to life. The atmosphere is inspiring, and the staff is incredibly knowledgeable and helpful. I loved every moment spent here!",
  },
];
---

<section class="container bg-coolGray-50 overflow-hidden">
  <div class="mx-auto px-4 mb-10 md:mb-20">
    <h2 class="font-heading text-6xl xl:text-8xl font-bold tracking-tighter">
      Testimonials
    </h2>
  </div>

  <!-- Slider main container -->
  <div class="testimonial-slider mt-20 md:mt-40">
    <div class="swiper-wrapper container mx-auto px-4">
      <!-- Slides -->
      {
        testimonials.map((testimonial) => (
          <div class="swiper-slide w-[90%] md:w-full">
            <div class=" px-4 md:px-12 py-4 flex flex-col justify-center mx-2  rounded-lg ">
              <ImageMod
                width={80}
                height={96}
                class="block w-20 h-24 mb-6"
                src={testimonial.image}
                alt=""
              />
              <div>
                <p
                  class="mb-0 text-lg md:text-xl "
                  set:html={testimonial.quote}
                />
              </div>

              <div class="mt-2 font-mono">
                <span>- </span>
                <span class="" set:html={testimonial.name} />
              </div>
            </div>
          </div>
        ))
      }
    </div>
    <!-- If we need pagination -->
    <div class="swiper-pagination"></div>

    <!-- If we need navigation buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>

    <!-- If we need scrollbar -->
    <div class="swiper-scrollbar"></div>
  </div>
</section>

<script>
  import Swiper from "swiper";

  import { Autoplay, Pagination } from "swiper/modules";

  // astro:page-load event is fired when the page is loaded
  document.addEventListener("astro:page-load", () => {
    new Swiper(".testimonial-slider", {
      modules: [Pagination, Autoplay],
      spaceBetween: 0,
      loop: true,
      centeredSlides: false,
      grabCursor: true,
      autoplay: {
        delay: 3500,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".swiper-pagination",
        type: "bullets",
        clickable: true,
      },

      breakpoints: {
        768: {
          slidesPerView: 1,
        },
        992: {
          slidesPerView: 3,
        },
      },
    });
  });
</script>
